(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k=this||self;function l(a,b){a=a.split(".");var c=k;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var m,n;a:{for(var p=["CLOSURE_FLAGS"],q=k,r=0;r<p.length;r++)if(q=q[p[r]],null==q){n=null;break a}n=q}var u=n&&n[610401301];m=null!=u?u:!1;var v;const w=k.navigator;v=w?w.userAgentData||null:null;function x(a){return m?v?v.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1:!1}function y(a){var b;a:{if(b=k.navigator)if(b=b.userAgent)break a;b=""}return-1!=b.indexOf(a)};function z(){return m?!!v&&0<v.brands.length:!1}function A(){return z()?x("Chromium"):(y("Chrome")||y("CriOS"))&&!(z()?0:y("Edge"))||y("Silk")};!y("Android")||A();A();y("Safari")&&(A()||(z()?0:y("Coast"))||(z()?0:y("Opera"))||(z()?0:y("Edge"))||(z()?x("Microsoft Edge"):y("Edg/"))||z()&&x("Opera"));const B=Symbol();function C(a,b){if(B)return a[B]|=b;if(void 0!==a.g)return a.g|=b;Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}});return b}function D(a){const b=E(a);1!==(b&1)&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),F(a,b|1))}function E(a){let b;B?b=a[B]:b=a.g;return null==b?0:b}function F(a,b){B?a[B]=b:void 0!==a.g?a.g=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}});return a}
function G(){var a=[];C(a,1);return a}function H(a){C(a,16);return a}function aa(a,b){F(b,(a|0)&-51)}function I(a,b){F(b,(a|18)&-41)};var J={};function K(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var L=Object.freeze(F([],23));function M(a,b,c){a.l&&(a.l=void 0);if(b>=a.i){const d=a.i+-1;(a.g||(a.g=a.j[d]={}))[b]=c}else a.j[b+-1]=c,(a=a.g)&&b in a&&delete a[b]}
function N(a,b,c){var d=-1===c?null:c>=a.i?a.g?a.g[c]:void 0:a.j[c+-1];var e=!1;if(null==d||"object"!==typeof d||(e=Array.isArray(d))||d.s!==J)if(e){e=E(a.j);const g=E(d);let f=g;0===f&&(f|=e&16);f|=e&2;f!==g&&F(d,f);b=new b(d)}else b=void 0;else b=d;b!==d&&null!=b&&M(a,c,b);d=b;if(null==d)return d;E(a.j)&2||(b=d,E(b.j)&2&&(e=O(b,!1),e.l=b,b=e),b!==d&&(d=b,M(a,c,d)));return d};let P;function Q(a,b){P=b;a=new a(b);P=void 0;return a};function ba(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a&&!Array.isArray(a)&&null!=a&&a instanceof Uint8Array){let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)}}return a};function ca(a,b){const c=Array.prototype.slice.call(a.j),d=a.g;var e=c.length+(d?-1:0);let g=0;for(;g<e;g++)c[g]=b(c[g]);if(d){e=c[g]={};for(const f in d)e[f]=b(d[f])}b=Q(a.constructor,H(c));a.m&&(b.m=a.m.slice());return b}function ea(a,b,c,d,e,g){if(null!=a){if(Array.isArray(a))a=e&&0==a.length&&E(a)&1?void 0:g&&E(a)&2?a:R(a,b,c,void 0!==d,e,g);else if(K(a)){const f={};for(let h in a)f[h]=ea(a[h],b,c,d,e,g);a=f}else a=b(a,d);return a}}
function R(a,b,c,d,e,g){const f=d||c?E(a):0;d=d?!!(f&16):void 0;a=Array.prototype.slice.call(a);for(let h=0;h<a.length;h++)a[h]=ea(a[h],b,c,d,e,g);c&&c(f,a);return a}function fa(a){return a.s===J?a.toJSON():ba(a)};function ha(a,b,c=I){if(null!=a){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){const d=E(a);if(d&2)return a;if(b&&!(d&32)&&(d&16||0===d))return F(a,d|18),a;a=R(a,ha,d&4?I:c,!0,!1,!0);b=E(a);b&4&&b&2&&Object.freeze(a);return a}a.s===J&&(E(a.j)&2||(a=O(a,!0),C(a.j,18)));return a}}function O(a,b){const c=b||E(a.j)&2?I:aa,d=!!(E(a.j)&16);return ca(a,e=>ha(e,d,c))};var S=class{constructor(a){null==a&&(a=P);P=void 0;if(null==a)a=[],F(a,48);else{if(!Array.isArray(a))throw Error();var b=C(a,0)|32;F(a,b)}this.j=a;a:{b=this.j.length;a=b-1;if(b&&(b=this.j[a],K(b))){this.g=b;this.i=a- -1;break a}this.i=Number.MAX_VALUE}}toJSON(){var a=R(this.j,fa,void 0,void 0,!1,!1);return ia(this,a,!0)}};S.prototype.s=J;S.prototype.toString=function(){return ia(this,this.j,!1).toString()};
function ia(a,b,c){const d=a?a.constructor.o:void 0;var e=a.i;if(d){if(!c){b=Array.prototype.slice.call(b);var g;if(b.length&&K(g=b[b.length-1]))for(var f=0;f<d.length;f++)if(d[f]>=e){Object.assign(b[b.length-1]={},g);break}}e=b;c=!c;a=a.i;let t;for(g=0;g<d.length;g++)if(f=d[g],f<a){f+=-1;var h=e[f];null==h?e[f]=c?L:G():c&&h!==L&&D(h)}else{if(!t){let da;e.length&&K(da=e[e.length-1])?t=da:e.push(t={})}h=t[f];null==t[f]?t[f]=c?L:G():c&&h!==L&&D(h)}}return b};function ja(a){return b=>{if(null==b||""==b)b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);b=Q(a,H(b))}return b}};var T=class extends S{};T.o=[17];var U=class extends S{};U.o=[27];var V=class extends S{};V.o=[8];var ka=ja(class extends S{});var la=class extends S{},ma=ja(la);la.o=[1,2,3];function W(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function X(a,b){a=a.body;var c={detail:void 0};let d;"function"===typeof window.CustomEvent?d=new CustomEvent(b,c):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!!c.bubbles,!!c.cancelable,c.detail));a.dispatchEvent(d)}
var na=class{constructor(a){this.body=a;this.g=[];W(a,"sampling_mod");var b=W(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if("namespace"===c[d].getAttribute("name")&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}if(!(0<this.g.length)){a=W(this.body,"environment");for(const d of a.split("|"))d&&this.g.push(d)}}addEventListener(a,b){this.body.addEventListener(a,b)}};function oa(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function pa(a){if(1>=a.i.offsetWidth||1>=a.i.offsetHeight)return!1;a.g.remove();X(a.context,"spanReady");return!0}
var qa=class{constructor(a){this.context=a;this.l={A:!1,v:100};this.i=oa("SPAN");this.g=oa("DIV");this.i.style.fontSize="6px";this.i.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.i)}wait(){if(!this.l.A&&(X(this.context,"spanStart"),this.context.body.appendChild(this.g),!pa(this)))return new Promise(a=>{const b=
setInterval(()=>{pa(this)&&(clearInterval(b),a())},this.l.v)})}};var ra=class{constructor(a,b){this.context=a;this.g=N(b,U,1)||new U;N(b,V,12)||new V;N(this.g,T,10)||new T}};function sa(a){a.l.length=0;a.i=!0}function ta(a,b){a.g=!0;const c=()=>{a.i=!1;const d=a.l.shift();return void 0===d?(a.g=!1,Promise.resolve()):ta(a,d())};return b?b.then(c,()=>{if(a.i)return c();a.g=!1;return Promise.reject()}):c()}function ua(a,b){for(const c of b)a.l.push(c);if(!a.g)return ta(a)}var va=class{constructor(){this.i=this.g=!1;this.l=[]}};function wa(a){sa(a.l);return ua(a.l,[()=>{if(!a.m){var b=W(a.context.body,"render_config")||"[]";b=ka(b);b=new ra(a.context,b);a.m=b}b=(new qa(a.context)).wait();X(a.context,"browserStart");X(a.context,"browserStartEnd");a.g&=-31;a.g|=2;return b},()=>{X(a.context,"browserReady");X(a.context,"browserReadyEnd");a.g|=4;X(a.context,"overallReady")},()=>{X(a.context,"browserQuiet");X(a.context,"browserQuietEnd");a.g|=8}])}
function xa(a){ma(W(a.context.body,"engine_msg")||"[]");return wa(a)||Promise.resolve()}var Y=class{constructor(a,b){this.l=new va;this.g=0;this.context=new na(b)}u(){return this.g}i(){this.g&=-31;this.g|=1;let a=0;const b=this.context.body;b.addEventListener("browserRender",()=>{++a;if(1===a)X(this.context,"overallStart"),xa(this).then(()=>{X(this.context,"overallQuiet")});else{var c=b.clientHeight;b.clientWidth&&c&&xa(this)}})}};let Z;l("mys.engine.init",(a,b)=>{Z=new Y(a,b);Z.i()});l("mys.engine.stage",()=>{let a;return(null==(a=Z)?void 0:a.g)||0});l("mys.Engine",Y);l("mys.Engine.prototype.i",Y.prototype.i);l("mys.Engine.prototype.s",Y.prototype.u);}).call(this);
